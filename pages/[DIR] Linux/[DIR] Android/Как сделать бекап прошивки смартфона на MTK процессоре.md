# Как сделать бекап прошивки смартфона на MTK процессоре
Многие покупая китайские смартфоны сталкиваются с необходимостью его прошивки, для удаления китайского контента, смены языков и подобного. Реже люди сталкиваются с полным отсутствием прошивок для своего смартфона в сети. Я расскажу вам о том как уберечь китайский смартфон от программной смерти, сделать копию уже установленной прошивки дабы в конечном счете избежать болезненных переживаний о судьбе вашего смартфона.
Необходимые инструменты

## Для начала нам понадобятся:

[MTK Droid Tools](http://forum.china-iphone.ru/post496116.html#p496116)  
[SP Flash Tool](http://Androidp1.ru/sp-flash-tool-proshivalshhik-smartfonov-i-planshetov-na-baze-mtk/)  
[Драйвер MTK Preloader](http://Androidp1.ru/drviver-for-android/)

## Создание scatter файла.
Берем включенный смартфон и подсоединяем его с помощью USB кабеля к компьютеру. Затем, запускаем программу MtkDroidTools, и ждем ее подключения к устройству (должен загореться зеленый прямоугольник с левой стороны в нижнем углу). Чуть не забыл, во время подключения MtkDroidTools к телефону, на дисплее могут появляться уведомления которые нужно подтверждать. Это MtkDroidTools пытается рутировать Ваш смартфон, без этого мы не сможем сделать бэкап.

![Как уберечь китайский смартфон от программной смерти. Снятие дампа](/images/Linux/Android/new_firmware-01.png 'Как уберечь китайский смартфон от программной смерти. Снятие Дампа.')

Жмем кнопочку «Карта блоков». В открывшемся окне находим кнопку «Создать scatter файл», нажимаем ее и сохраняем этот файл (не рекомендую менять имя файла, оставьте его как есть).

![Как уберечь китайский смартфон от программной смерти. Снятие дампа](/images/Linux/Android/new_firmware-02.png 'Как уберечь китайский смартфон от программной смерти. Снятие Дампа.')

## Считывание ROM из устройства.
Теперь Вам предстоит запустить програмку SP FlashTool с помощью которой Вы будете считывать ROM. В флештуле жмем кнопочку «Scatter-loading», указываем путь к недавно сохраненному scatter файлу и открываем его (ниже появится перечень пустых блоков с адресами).

![Как уберечь китайский смартфон от программной смерти. Снятие дампа](/images/Linux/Android/new_firmware-03.png 'Как уберечь китайский смартфон от программной смерти. Снятие Дампа.')

Далее нужно перейти на другую вкладку – «Read back» и добавить новый блок нажав кнопку «Add» с зеленым плюсиком.

![Как уберечь китайский смартфон от программной смерти. Снятие дампа](/images/Linux/Android/new_firmware-04.png 'Как уберечь китайский смартфон от программной смерти. Снятие Дампа.')

В поле ниже появиться новый блок, по нему нужно дважды кликнуть. В открывшемся окне придумываем ему имя и сохраняем его (имя блока обязательно должно начинаться с `ROM_`).

![Как уберечь китайский смартфон от программной смерти. Снятие дампа](/images/Linux/Android/new_firmware-05.png 'Как уберечь китайский смартфон от программной смерти. Снятие Дампа.')

Потом в новом окне ищем поле «Length», указываем адрес блока «cache» (его берем с scatter файла, который открывается блокнотом) и нажимаем кнопку ОК.

![Как уберечь китайский смартфон от программной смерти. Снятие дампа](/images/Linux/Android/new_firmware-06.png 'Как уберечь китайский смартфон от программной смерти. Снятие Дампа.')

Теперь отключаем свое устройство от компьютера и выключаем его, также еще можно передернуть батарею. Я надеюсь Вы еще не закрыли флештул? Отлично, тогда жмем кнопочку «Read back» (с синей стрелкой), после этого подключаем телефон (он должен быть выключенный) к компьютеру (лучше всего в тот самый порт USB на котором устанавливали драйвера для выключенного тела).

![Как уберечь китайский смартфон от программной смерти. Снятие дампа](/images/Linux/Android/new_firmware-07.png 'Как уберечь китайский смартфон от программной смерти. Снятие Дампа.')

Как только Вы это сделаете, в FlashTool начнет бежать красная, а за тем синяя полосы прогресса.

![Как уберечь китайский смартфон от программной смерти. Снятие дампа](/images/Linux/Android/new_firmware-08.png 'Как уберечь китайский смартфон от программной смерти. Снятие Дампа.')

Если по какой-то причине линия прогресса стоит на месте и не бежыт, тогда попробуйте отключить гаджет от ПК, передернуть батарею, и снова подсоединить к компьютеру. Не помогло – тогда проблема с драйверами, придется переустановить их.

Процесс считывания занимает примерно 30 минут, все зависит от ПК и смартфона. Когда флештул сделает свою работу появиться уведомление с зеленым кружком. Закрываем его, кстати FlashTool тоже можно закрыть, отсоединяем телефон от ПК и включаем его.

![Как уберечь китайский смартфон от программной смерти. Снятие дампа](/images/Linux/Android/new_firmware-09.png 'Как уберечь китайский смартфон от программной смерти. Снятие Дампа.')

## Упаковка блоков в прошивку
Снова запускаем MtkDroidTools и подсоединяем уже включенный смартфон, проверяем, что DroidTools увидел его. Переключаемся на соседнюю вкладку «root, backup, recovery», нажимаем кнопочку «Создать бэкап из ROM_ флэштула» и указываем путь к раньше сохраненного файла с флештула (название которого начинается с «ROM_»). MtkDroidTools предложит создать CWM, «пропатчить boot» – это оставляю на Ваше усмотрение.

![Как уберечь китайский смартфон от программной смерти. Снятие дампа](/images/Linux/Android/new_firmware-10.png 'Как уберечь китайский смартфон от программной смерти. Снятие Дампа.')

![Как уберечь китайский смартфон от программной смерти. Снятие дампа](/images/Linux/Android/new_firmware-11.png 'Как уберечь китайский смартфон от программной смерти. Снятие Дампа.')

Ну вот и собственно все. Свой созданный бэкап сможите найти по адресу: MtkDroidTools\backups\. Теперь спрячьте упакованный бэкап подальше от всех, чтобы его случайно никто не удалил. Он всегда поможет вернуть смартфон к стоковой прошивке. На всякий случай рекомендуется также спрятать ROM_ файл.

**Прошивка готова.**

Теперь мы можем либо модифицировать ее, либо беречь на случай «смерти» вашего смартфона.
